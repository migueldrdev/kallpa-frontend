<div class="bg-gray-900 text-gray-300 text-[11px] py-1.5 hidden md:block">
  <div class="container mx-auto flex justify-between items-center px-4">
    <div class="flex gap-4">
      <span>ğŸ‡µğŸ‡ª EnvÃ­os a todo el PerÃº</span>
      <span class="border-l border-gray-700 pl-4">ğŸ“ Venta telefÃ³nica: (01) 615-4300</span>
    </div>
    <div class="flex gap-4">
      <a href="#" class="hover:text-white transition">Ayuda</a>
      <a href="#" class="hover:text-white transition">Tiendas</a>
    </div>
  </div>
</div>

<nav class="bg-green-700 text-white shadow-lg sticky top-0 z-50">
  <div class="container mx-auto px-4 h-16 md:h-20 flex items-center gap-4 justify-between">

    <div class="flex items-center gap-2 md:gap-4">
      <button class="md:hidden text-white text-2xl">â˜°</button>

      <a routerLink="/" class="flex flex-col leading-none select-none">
        <span class="text-xl md:text-3xl font-extrabold tracking-tighter text-white">
          KALLPA<span class="text-green-300">.</span>
        </span>
        <span class="text-[9px] md:text-[10px] text-green-100 tracking-widest uppercase opacity-80">
          Tienda Oficial
        </span>
      </a>
    </div>

    <div class="hidden md:flex flex-1 max-w-2xl mx-4">
      <div class="relative w-full group">
        <input
          type="text"
          placeholder="Busca marcas y productos..."
          class="w-full bg-white text-gray-800 rounded-full py-2.5 pl-5 pr-12 focus:outline-none focus:ring-2 focus:ring-green-400 shadow-sm transition-shadow"
        >
        <button class="absolute right-1 top-1 bg-green-800 hover:bg-green-900 text-white rounded-full p-1.5 w-8 h-8 flex items-center justify-center transition-colors">
          ğŸ”
        </button>
      </div>
    </div>

    <div class="flex items-center gap-2 md:gap-6">

      @if (authService.currentUser(); as user) {
        <div class="relative group hidden md:flex items-center gap-2 cursor-pointer p-2 rounded-lg hover:bg-white/10 transition">
          <div class="text-left leading-tight">
            <p class="text-[10px] text-green-100">Bienvenido,</p>
            <p class="text-sm font-bold truncate max-w-[100px]">{{ user.name }}</p>
          </div>
          <span class="text-xs">â–¼</span>

          <div class="absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-xl py-2 text-gray-800 hidden group-hover:block transition-all z-50 animate-fade-in border border-gray-100">
            <div class="px-4 py-3 border-b border-gray-100 bg-gray-50">
              <p class="text-xs text-gray-500">Conectado como</p>
              <p class="text-sm font-bold text-gray-900 truncate">{{ user.sub }}</p>
            </div>

            <a routerLink="/profile" class="block px-4 py-2 hover:bg-green-50 hover:text-green-700 transition">ğŸ‘¤ Mi Perfil</a>
            <a routerLink="/orders" class="block px-4 py-2 hover:bg-green-50 hover:text-green-700 transition">ğŸ“¦ Mis Pedidos</a>

            <div class="border-t border-gray-100 my-1"></div>

            <button (click)="logout()" class="block w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 transition text-sm font-medium">
              Cerrar SesiÃ³n
            </button>
          </div>
        </div>
      } @else {
        <div class="hidden md:flex items-center divide-x divide-green-500/50 text-sm font-medium">
          <a routerLink="/login" class="px-3 hover:text-green-200 transition">Iniciar SesiÃ³n</a>
          <a routerLink="/register" class="px-3 hover:text-green-200 transition">RegÃ­strate</a>
        </div>
      }

      <button
        (click)="cartService.toggleCart()"
        class="relative group p-2 hover:bg-white/10 rounded-full transition"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 md:h-8 md:w-8 group-hover:scale-105 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
        </svg>

        @if (cartService.totalItems() > 0) {
          <span class="absolute -top-0.5 -right-0.5 bg-yellow-400 text-gray-900 text-[10px] font-bold h-5 min-w-[20px] px-1 flex items-center justify-center rounded-full shadow-sm border-2 border-green-700 animate-bounce-short">
            {{ cartService.totalItems() }}
          </span>
        }
      </button>
    </div>
  </div>

  <div class="hidden md:block bg-green-800 text-white/90 text-sm font-medium">
    <div class="container mx-auto px-4 flex gap-8 py-2 overflow-x-auto">
      <a href="#" class="hover:text-white whitespace-nowrap border-b-2 border-transparent hover:border-yellow-400 transition-colors pb-0.5">CategorÃ­as ğŸ‘‡</a>
      <a href="#" class="hover:text-white whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors pb-0.5">Celulares</a>
      <a href="#" class="hover:text-white whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors pb-0.5">ComputaciÃ³n</a>
      <a href="#" class="hover:text-white whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors pb-0.5">Electrohogar</a>
      <a href="#" class="hover:text-white whitespace-nowrap border-b-2 border-transparent hover:border-white transition-colors pb-0.5 text-yellow-300">Ofertas Flash âš¡</a>
    </div>
  </div>
</nav>
